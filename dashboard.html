<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard | ScanAttend</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css">

    <style>
        body { background:#f4f6f9; font-family: Arial, sans-serif; }
        .dashboard-container { padding:20px; width:1000px; margin:auto; }
        table { width:100%; border-collapse:collapse; background:white; }
        th, td { padding:12px; border:1px solid #ddd; }
        th { background:#007bff; color:white; }
        tr:nth-child(even) { background:#f2f2f2; }
        button, a.btn {
            padding:10px 15px;
            border:none;
            border-radius:5px;
            background:#28a745;
            color:white;
            cursor:pointer;
            text-decoration:none;
        }
        .logout { background:#dc3545; }
        select { padding:10px; }
        h2, h3 { text-align:center; color: #000; }
    </style>
</head>

<body>

<!-- DASHBOARD -->
<div class="dashboard-container" id="dash-content" style="display:none;">
 <img src="logo.png" alt="Logo" class="logo">

    <h2>Admin Dashboard</h2>

    <div class="controls">
        <a href="newqr.html" class="btn">âž• Create QR</a>
        <button class="logout" onclick="logout()">Logout</button>
    </div>

    <!-- REGISTERED USERS -->
    <section class="registered">
        <h3>Registered Students</h3>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Reg No</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody id="userBody"></tbody>
        </table>
    </section>

    <hr style="margin:40px 0;">

    <!-- ATTENDANCE -->
    <section class="sess">
        <h3>Session Attendance</h3>

        <div class="controls">
            <select id="sessionSelector" onchange="loadAttendanceBySession()">
                <option value="">All Sessions</option>
            </select>
        </div>

        <table>
            <thead>
                <tr>
                    <th>Reg No</th>
                    <th>Email</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody id="attendanceBody"></tbody>
        </table>
    </section>

</div>

<!-- FIREBASE (Firestore ONLY) -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script src="config.js"></script>
<script src="dashboard.js"></script>
</body>
</html>